<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merry Christmas üéÑ</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&display=swap" rel="stylesheet">

<style>
/* ===== GLOBAL ===== */
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(#14532d, #318a54);
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
}

/* ===== CENTER TEXT ===== */
.text-center {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-size: 60px;
    animation: float 3s ease-in-out infinite;
    z-index: 2;
}

.text-center a {
    font-family: 'Baloo 2', cursive;
    font-weight: 700;
    color: #f8dddf;
    text-decoration: none;
    text-shadow: 0 0 8px rgba(255,255,255,0.7),
                 0 0 16px rgba(179,164,165,0.4);
    transition: 0.2s;
}

.text-center a:hover {
    color: #D4AF37;
    text-shadow: 0 0 12px #FFD700,
                 0 0 30px #FFD700;
}

.volume-hint {
    margin-top: 12px;
    font-size: 18px;
    font-family: 'Baloo 2', cursive;
    color: rgba(255,255,255,0.85);
    text-shadow: 0 0 6px rgba(255,255,255,0.6);
    animation: fadeIn 2s ease-in-out infinite alternate;
}

@keyframes float {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes fadeIn {
    from { opacity: 0.6; }
    to { opacity: 1; }
}

/* ===== SNOW ===== */
#snow-layer {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 1;
}

.snow {
    position: absolute;
    top: -10px;
    background: white;
    border-radius: 50%;
    animation: fall linear forwards;
}

@keyframes fall {
    to { transform: translateY(110vh); }
}

/* ===== CANVAS TREE ===== */
#treeCanvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
}

/* ===== OVERLAY CARD ===== */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 3;
}

.book {
    width: 510px;
    height: 480px;
    position: relative;
}

.page {
    width: 100%;
    height: 100%;
    border-radius: 20px;
    background: linear-gradient(135deg, #C1121F, #8B0000);
    color: white;
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    padding: 30px;
    text-align: center;
    position: relative;
}

.page::before {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: 22px;
    background: linear-gradient(45deg, #FFD700, #fff3b0, #FFD700);
    filter: blur(8px);
    opacity: 0.6;
    z-index: -1;
    animation: glow 2.5s ease-in-out infinite;
}

@keyframes glow {
    0%,100% { opacity: 0.4; }
    50% { opacity: 0.8; }
}

h2 {
    font-family: 'Baloo 2', cursive;
    font-size: 40px;
}

.close {
    position: absolute;
    top: 14px;
    left: 14px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: none;
    background: rgba(255,255,255,0.6);
    font-size: 22px;
    cursor: pointer;
}

/* ===== MOBILE ===== */
@media (max-width: 768px) {
    .text-center { font-size: 38px; padding: 0 16px; }
    .volume-hint { font-size: 14px; }
    .book { width: 90vw; height: auto; }
    h2 { font-size: 28px; }
}
</style>
</head>

<body>

<canvas id="treeCanvas"></canvas>
<div id="snow-layer"></div>

<div class="text-center">
    <a href="javascript:void(0)" onclick="openCard()">Nh·∫•n v√†o ƒë√¢y üéÑ</a>
    <div class="volume-hint">üéßüîä Gi·ªØ √¢m l∆∞·ª£ng v·ª´a ƒë·ªß ƒë·ªÉ nghe nh·∫°c nha ‚ùÑÔ∏è‚ú®</div>
</div>

<div class="overlay" id="overlay" onclick="closeCard()">
    <div class="book" onclick="event.stopPropagation()">
        <div class="page">
            <button class="close" onclick="closeCard()">√ó</button>
            <h2>üéÑ‚ùÑÔ∏è Merry Christmas ‚ú®</h2>
            <p>
                Ch√∫c b·∫°n m·ªôt m√πa Noel th·∫≠t ·∫•m √°p,<br>
                nhi·ªÅu ni·ªÅm vui nh·ªè xinh v√† th·∫≠t nhi·ªÅu ti·∫øng c∆∞·ªùi üéÅüíñ
            </p>
        </div>
    </div>
</div>

<!-- AUDIO -->
<audio id="music" loop>
    <source src="noel.mp3" type="audio/mpeg">
</audio>

<audio id="bell">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8a7c70c58b.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== MUSIC ===== */
const music = document.getElementById("music");
music.volume = 0.3;

/* ===== OPEN / CLOSE ===== */
function openCard() {
    document.getElementById("overlay").style.display = "flex";
    try { music.play(); document.getElementById("bell").play(); } catch(e){}
}

function closeCard() {
    document.getElementById("overlay").style.display = "none";
    music.pause();
}

/* ===== SNOW ===== */
const snowLayer = document.getElementById("snow-layer");
const isMobile = window.innerWidth <= 768;

function createSnow() {
    const s = document.createElement("div");
    s.className = "snow";
    const size = Math.random() * 4 + 2;
    s.style.width = s.style.height = size + "px";
    s.style.left = Math.random() * 100 + "vw";
    s.style.opacity = Math.random() * 0.6 + 0.4;
    s.style.animationDuration = (isMobile ? 6 : 4) + Math.random() * 3 + "s";
    if (Math.random() < 0.2) s.style.boxShadow = "0 0 6px white";
    snowLayer.appendChild(s);
    setTimeout(() => s.remove(), 12000);
}
setInterval(createSnow, isMobile ? 80 : 40);

/* ===== TREE CANVAS ===== */
const canvas = document.getElementById("treeCanvas");
const ctx = canvas.getContext("2d");
function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
resize(); window.onresize = resize;

let t = 0;
function star(x,y,r,g){
    ctx.save(); ctx.translate(x,y); ctx.beginPath();
    for(let i=0;i<10;i++){
        const a=i*Math.PI/5;
        const rr=i%2===0?r:r/2;
        ctx.lineTo(Math.cos(a)*rr,Math.sin(a)*rr);
    }
    ctx.closePath();
    ctx.fillStyle="#FFD700";
    ctx.shadowColor="#FFD700";
    ctx.shadowBlur=g;
    ctx.fill(); ctx.restore();
}

function drawTree(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    const cx=canvas.width/2, base=canvas.height*0.85, h=canvas.height*0.6;
    const layers=isMobile?140:220;
    for(let i=0;i<layers;i++){
        const p=i/layers;
        const y=base-p*h;
        const r=(1-p)*220;
        const a=p*Math.PI*8+t;
        const x=cx+Math.cos(a)*r;
        star(x,y,2+(1-p)*3,12);
    }
    star(cx,base-h-15,10,30);
    t+=0.01;
    requestAnimationFrame(drawTree);
}
drawTree();
</script>

</body>
</html>
